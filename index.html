<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EliteSecure CTF - $10,000 Championship</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
 
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }
 
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
 
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            border-radius: 50%;
            animation: twinkle 2s infinite alternate;
        }
 
        @keyframes twinkle {
            from { opacity: 0.3; }
            to { opacity: 1; }
        }
 
        .container {
            position: relative;
            z-index: 2;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
 
        header {
            padding: 20px 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(15px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid #00d4ff;
        }
 
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
 
        .logo {
            font-size: 2.2em;
            font-weight: bold;
            background: linear-gradient(45deg, #00d4ff, #ff6b35);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
            cursor: pointer;
        }
 
        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
            margin-left: auto;
            align-items: center;
        }
 
        .nav-links a {
            color: #ffffff;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 20px;
        }
 
        .nav-links a:hover {
            color: #00d4ff;
            background: rgba(0, 212, 255, 0.1);
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.8);
        }
 
        .hero {
            text-align: center;
            padding: 100px 0;
            position: relative;
        }
 
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, rgba(0, 212, 255, 0.1) 0%, transparent 70%);
        }
 
        .hero h1 {
            font-size: 4.5em;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #00d4ff, #ff6b35, #00d4ff);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glow 3s ease-in-out infinite alternate;
            position: relative;
            z-index: 3;
        }
 
        @keyframes glow {
            from { filter: drop-shadow(0 0 20px rgba(0, 212, 255, 0.5)); }
            to { filter: drop-shadow(0 0 40px rgba(255, 107, 53, 0.5)); }
        }
 
        .hero h2 {
            font-size: 1.8em;
            margin-bottom: 30px;
            color: #cccccc;
        }
 
        .prize-banner {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            padding: 25px 50px;
            border-radius: 50px;
            display: inline-block;
            margin: 30px 0;
            box-shadow: 0 15px 40px rgba(255, 107, 53, 0.4);
            animation: pulse 2s infinite;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
 
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
 
        .prize-banner h3 {
            font-size: 2.8em;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
 
        .cta-button {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
            padding: 18px 45px;
            border: none;
            border-radius: 30px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px 10px;
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
            border: 2px solid transparent;
        }
 
        .cta-button:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 35px rgba(0, 212, 255, 0.5);
            border-color: rgba(255, 255, 255, 0.3);
        }
 
        .cta-button:active {
            transform: translateY(-2px);
        }
 
        .section {
            padding: 100px 0;
            margin: 40px 0;
        }
 
        .section h2 {
            font-size: 3em;
            text-align: center;
            margin-bottom: 60px;
            color: #00d4ff;
            text-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
        }
 
        .challenges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
 
        .challenge-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            padding: 35px;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
 
        .challenge-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, #00d4ff, #ff6b35);
        }
 
        .challenge-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 212, 255, 0.3);
            border-color: #00d4ff;
        }
 
        .challenge-card h3 {
            color: #00d4ff;
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
 
        .difficulty {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: bold;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
 
        .difficulty.easy { 
            background: linear-gradient(45deg, #4CAF50, #45a049);
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }
        .difficulty.medium { 
            background: linear-gradient(45deg, #FF9800, #f57c00);
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
        }
        .difficulty.hard { 
            background: linear-gradient(45deg, #F44336, #d32f2f);
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
        }
        .difficulty.expert { 
            background: linear-gradient(45deg, #9C27B0, #7b1fa2);
            box-shadow: 0 4px 15px rgba(156, 39, 176, 0.3);
        }
 
        .points {
            color: #ff6b35;
            font-weight: bold;
            font-size: 1.4em;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(255, 107, 53, 0.5);
        }
 
        .challenge-description {
            line-height: 1.6;
            margin-bottom: 25px;
            color: #cccccc;
        }
 
        .challenge-status {
            margin-top: 15px;
            padding: 10px;
            border-radius: 8px;
            font-weight: bold;
            text-align: center;
        }
 
        .status-solved {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
            border: 1px solid #4CAF50;
        }
 
        .status-unsolved {
            background: rgba(255, 107, 53, 0.2);
            color: #ff6b35;
            border: 1px solid #ff6b35;
        }
 
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }
 
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
 
        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            margin: 3% auto;
            padding: 40px;
            border: 2px solid #00d4ff;
            border-radius: 20px;
            width: 95%;
            max-width: 900px;
            position: relative;
            box-shadow: 0 25px 80px rgba(0, 212, 255, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }
 
        .close {
            color: #aaa;
            float: right;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 25px;
            top: 20px;
            transition: all 0.3s ease;
        }
 
        .close:hover {
            color: #00d4ff;
            transform: scale(1.2);
        }
 
        .form-group {
            margin-bottom: 25px;
        }
 
        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: #00d4ff;
            font-weight: bold;
            font-size: 1.1em;
        }
 
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #333;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }
 
        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }
 
        .challenge-content {
            background: rgba(0, 0, 0, 0.4);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            font-family: 'Courier New', monospace;
            border: 1px solid rgba(0, 212, 255, 0.3);
            line-height: 1.8;
        }
 
        .hint-box {
            background: rgba(255, 107, 53, 0.1);
            border-left: 4px solid #ff6b35;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
 
        .leaderboard {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            margin: 40px;
            backdrop-filter: blur(15px);
        }
 
        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            margin: 15px 0;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 15px;
            border-left: 5px solid #00d4ff;
            transition: all 0.3s ease;
        }
 
        .leaderboard-item:hover {
            background: rgba(0, 212, 255, 0.2);
            transform: translateX(10px);
        }
 
        .rank {
            font-weight: bold;
            color: #ff6b35;
            font-size: 1.4em;
            min-width: 60px;
        }
 
        .user-info {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            margin-left: 20px;
        }
 
        .user-name {
            font-weight: bold;
            font-size: 1.2em;
        }
 
        .user-team {
            color: #cccccc;
            font-size: 0.9em;
        }
 
        .user-points {
            font-weight: bold;
            color: #00d4ff;
            font-size: 1.3em;
        }
 
        .user-status {
            text-align: center;
            padding: 30px;
            margin: 30px 0;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 15px;
            border: 2px solid #00d4ff;
            backdrop-filter: blur(10px);
        }
 
        .timer {
            font-size: 2.5em;
            color: #ff6b35;
            text-align: center;
            margin: 30px 0;
            font-weight: bold;
            text-shadow: 0 0 20px rgba(255, 107, 53, 0.5);
            padding: 25px;
            background: rgba(255, 107, 53, 0.1);
            border-radius: 15px;
            border: 2px solid rgba(255, 107, 53, 0.3);
        }
 
        .rules-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 40px;
            border-radius: 20px;
            margin: 40px 0;
            backdrop-filter: blur(15px);
        }
 
        .rules-section h3 {
            color: #00d4ff;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
 
        .rules-section ul {
            list-style: none;
            padding-left: 0;
        }
 
        .rules-section li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-left: 30px;
            position: relative;
        }
 
        .rules-section li::before {
            content: "→";
            color: #00d4ff;
            font-weight: bold;
            position: absolute;
            left: 0;
        }
 
        .success-message {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #4CAF50;
            text-align: center;
            font-weight: bold;
        }
 
        .error-message {
            background: rgba(244, 67, 54, 0.2);
            color: #F44336;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #F44336;
            text-align: center;
            font-weight: bold;
        }
 
        .logout-btn {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            margin-left: 15px;
            transition: all 0.3s ease;
        }
 
        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.4);
        }
 
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.8em; }
            .nav-links { display: none; }
            .challenges-grid { grid-template-columns: 1fr; }
            .modal-content { margin: 10% auto; width: 95%; padding: 20px; }
            .leaderboard-item { flex-direction: column; text-align: center; }
            .user-info { margin: 10px 0; }
        }
 
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #00d4ff;
            animation: spin 1s ease-in-out infinite;
        }
 
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* AI Bot Chat Styles */
        .bot-message, .user-message {
            display: flex;
            margin-bottom: 20px;
            animation: fadeIn 0.3s ease;
        }

        .user-message {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            margin: 0 10px;
            flex-shrink: 0;
        }

        .bot-message .message-avatar {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
        }

        .user-message .message-avatar {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
        }

        .message-content {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 15px;
            max-width: 70%;
            border: 1px solid rgba(0, 212, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .user-message .message-content {
            background: rgba(0, 212, 255, 0.1);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .quick-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            color: #00d4ff;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .quick-btn:hover {
            background: rgba(0, 212, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.3);
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #00d4ff;
            font-style: italic;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #00d4ff;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        .code-block {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
        }

        .highlight-box {
            background: rgba(255, 107, 53, 0.1);
            border-left: 4px solid #ff6b35;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <header>
        <nav class="container">
            <div class="logo" onclick="scrollToSection('home')">EliteSecure CTF</div>
            <ul class="nav-links">
                <li><a onclick="scrollToSection('home')">Home</a></li>
                <li><a onclick="scrollToSection('challenges')">Challenges</a></li>
                <li><a onclick="scrollToSection('leaderboard')">Leaderboard</a></li>
                <li><a onclick="scrollToSection('rules')">Rules</a></li>
                <li><a onclick="openModal('aiBotModal')" style="background: linear-gradient(45deg, #00d4ff, #ff6b35); color: white; padding: 8px 16px; border-radius: 20px;">🤖 AI Expert</a></li>
                <li id="user-nav" style="display: none;">
                    <span id="nav-username" style="color: #00d4ff; font-weight: bold;"></span>
                    <button class="logout-btn" onclick="logout()">Logout</button>
                </li>
            </ul>
        </nav>
    </header>
 
    <main>
        <section id="home" class="hero">
            <div class="container">
                <h1>EliteSecure CTF Championship</h1>
                <h2>The Ultimate Cybersecurity Challenge Arena</h2>
                
                <div class="prize-banner">
                    <h3>💰 $10,000 Prize Pool 💰</h3>
                </div>
                
                <div class="timer" id="countdown">Competition starts in: Loading...</div>
                
                <div id="auth-buttons">
                    <button class="cta-button" onclick="openModal('registerModal')">🚀 Join Competition</button>
                    <button class="cta-button" onclick="openModal('loginModal')">🔐 Login</button>
                </div>
                
                <div class="user-status" id="userStatus" style="display: none;">
                    <h3>Welcome back, <span id="userName"></span>! 🎯</h3>
                    <p><strong>Status:</strong> <span id="userLevel">Registered Competitor</span></p>
                    <p><strong>Current Points:</strong> <span id="userPoints">0</span> pts</p>
                    <p><strong>Challenges Solved:</strong> <span id="challengesSolved">0/5</span></p>
                    <button class="cta-button" onclick="scrollToSection('challenges')" style="margin-top: 15px;">
                        🎯 Start Hacking
                    </button>
                </div>
            </div>
        </section>
 
        <section id="challenges" class="section">
            <div class="container">
                <h2>🛡️ Competition Challenges</h2>
                <div class="challenges-grid" id="challengesGrid">
                    <!-- Challenges will be dynamically populated -->
                </div>
            </div>
        </section>
 
        <section id="leaderboard" class="section">
            <div class="container">
                <h2>🏆 Live Leaderboard</h2>
                <div class="leaderboard" id="leaderboard">
                    <!-- Leaderboard will be dynamically populated -->
                </div>
            </div>
        </section>
 
        <section id="rules" class="section">
            <div class="container">
                <h2>📋 Competition Rules</h2>
                <div class="rules-section">
                    <h3>🎯 General Rules</h3>
                    <ul>
                        <li>Competition duration: 48 hours from official start time</li>
                        <li>Individual participation only - no team collaborations</li>
                        <li>All challenges must be solved ethically and legally</li>
                        <li>Flag format: Various formats depending on challenge type</li>
                        <li>Hints are available but may reduce final points</li>
                    </ul>
                </div>
                
                <div class="rules-section">
                    <h3>🏅 Scoring System</h3>
                    <ul>
                        <li>Easy challenges: 100 points each</li>
                        <li>Medium challenges: 250 points each</li>
                        <li>Hard challenges: 350-400 points each</li>
                        <li>Expert challenges: 500 points each</li>
                        <li>First blood bonus: +50 points for first solver</li>
                    </ul>
                </div>
                
                <div class="rules-section">
                    <h3>🚫 Prohibited Actions</h3>
                    <ul>
                        <li>No attacking competition infrastructure</li>
                        <li>No sharing flags or solutions with other participants</li>
                        <li>No automated tools for brute-forcing flags</li>
                        <li>No reverse engineering the platform itself</li>
                        <li>Respect fair play and sportsmanship</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>
 
    <!-- Registration Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('registerModal')">&times;</span>
            <h2 style="color: #00d4ff; margin-bottom: 30px; text-align: center;">🚀 Join the Elite</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label for="regUsername">👤 Choose Your Hacker Handle:</label>
                    <input type="text" id="regUsername" required placeholder="Enter a unique username">
                </div>
                <div class="form-group">
                    <label for="regEmail">📧 Email Address:</label>
                    <input type="email" id="regEmail" required placeholder="your.email@domain.com">
                </div>
                <div class="form-group">
                    <label for="regPassword">🔒 Secure Password:</label>
                    <input type="password" id="regPassword" required placeholder="Create a strong password">
                </div>
                <div class="form-group">
                    <label for="regTeam">🏢 Organization (Optional):</label>
                    <input type="text" id="regTeam" placeholder="Company, University, or Team">
                </div>
                <button type="submit" class="cta-button" style="width: 100%; margin: 20px 0;" id="registerSubmitBtn">
                    ⚡ Register for Competition
                </button>
            </form>
        </div>
    </div>
 
    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
            <h2 style="color: #00d4ff; margin-bottom: 30px; text-align: center;">🔐 Access Your Account</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginUsername">👤 Username:</label>
                    <input type="text" id="loginUsername" required placeholder="Enter your username">
                </div>
                <div class="form-group">
                    <label for="loginPassword">🔒 Password:</label>
                    <input type="password" id="loginPassword" required placeholder="Enter your password">
                </div>
                <button type="submit" class="cta-button" style="width: 100%; margin: 20px 0;" id="loginSubmitBtn">
                    🚀 Launch Dashboard
                </button>
            </form>
        </div>
    </div>
 
    <!-- Challenge Modal -->
    <div id="challengeModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('challengeModal')">&times;</span>
            <div id="challengeContent"></div>
        </div>
    </div>

    <!-- AI Cybersecurity Expert Bot Modal -->
    <div id="aiBotModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close" onclick="closeModal('aiBotModal')">&times;</span>
            <div id="aiBotContent">
                <div style="text-align: center; margin-bottom: 30px;">
                    <div style="font-size: 3em; margin-bottom: 15px;">🤖</div>
                    <h2 style="color: #00d4ff; margin-bottom: 10px;">CyberSec AI Assistant</h2>
                    <p style="color: #ccc; font-size: 1.1em;">Your personal cybersecurity CTF expert and mentor</p>
                </div>
                
                <div id="chatContainer" style="height: 400px; overflow-y: auto; background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(0, 212, 255, 0.2);">
                    <div id="chatMessages">
                        <div class="bot-message">
                            <div class="message-avatar">🤖</div>
                            <div class="message-content">
                                <strong>CyberSec AI:</strong> Hello! I'm your cybersecurity CTF expert assistant. I can help you with:
                                <ul style="margin: 10px 0; padding-left: 20px;">
                                    <li>🔍 Explaining cybersecurity concepts</li>
                                    <li>🎯 CTF challenge strategies and hints</li>
                                    <li>🛠️ Tool recommendations and usage</li>
                                    <li>📚 Learning resources and tutorials</li>
                                    <li>🚀 Career guidance in cybersecurity</li>
                                </ul>
                                What would you like to know about?
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="userInput" placeholder="Ask me anything about cybersecurity, CTF challenges, tools, or concepts..." 
                           style="flex: 1; padding: 15px; background: rgba(255,255,255,0.1); border: 1px solid #333; border-radius: 10px; color: white; font-size: 16px;">
                    <button onclick="sendMessage()" class="cta-button" style="padding: 15px 25px; font-size: 1.1em;">🚀 Ask AI</button>
                </div>
                
                <div style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                    <button onclick="quickQuestion('crypto')" class="quick-btn">🔐 Cryptography</button>
                    <button onclick="quickQuestion('web')" class="quick-btn">🌐 Web Security</button>
                    <button onclick="quickQuestion('binary')" class="quick-btn">💾 Binary Analysis</button>
                    <button onclick="quickQuestion('forensics')" class="quick-btn">🔍 Digital Forensics</button>
                    <button onclick="quickQuestion('network')" class="quick-btn">🌐 Network Security</button>
                    <button onclick="quickQuestion('tools')" class="quick-btn">🛠️ CTF Tools</button>
                    <button onclick="quickQuestion('career')" class="quick-btn">🚀 Career Path</button>
                    <button onclick="quickQuestion('resources')" class="quick-btn">📚 Learning Resources</button>
                </div>
            </div>
        </div>
    </div>
 
    <script>
        // Global state
        let currentUser = null;
        let users = [
            // Demo users for leaderboard with easy login credentials
            { username: "demo", email: "demo@test.com", password: "demo123", team: "Test Team", points: 0, solvedChallenges: [] },
            { username: "CyberPhantom", email: "phantom@elite.com", password: "demo", team: "Ghost Protocol", points: 1250, solvedChallenges: ["crypto", "web", "forensics"] },
            { username: "H4ck3rZ0ne", email: "hacker@zone.com", password: "demo", team: "Code Breakers", points: 1100, solvedChallenges: ["crypto", "web", "binary"] },
            { username: "SecuritySage", email: "sage@sec.com", password: "demo", team: "Cyber Guardians", points: 950, solvedChallenges: ["crypto", "forensics"] },
            { username: "ByteBandit", email: "bandit@byte.com", password: "demo", team: "Data Pirates", points: 800, solvedChallenges: ["crypto", "web"] },
            { username: "CodeBreaker", email: "breaker@code.com", password: "demo", team: "Logic Bombers", points: 750, solvedChallenges: ["crypto"] }
        ];
        
        // Challenge definitions with detailed content
        const challenges = {
            crypto: {
                title: "🔐 Crypto Vault",
                difficulty: "easy",
                points: 100,
                description: "A secret agent has intercepted an encrypted message. Intelligence suggests it uses a classic substitution cipher. Can you decode the enemy's communication?",
                story: "Agent 007 has infiltrated the enemy's communication network and found this encrypted message. Time is running out - decode it before the enemy changes their encryption method!",
                content: `ENCRYPTED MESSAGE INTERCEPTED:
                
Gur frperg zrffntr vf: JRYPBZRGBFRPHERFLFGRZF
 
Additional Intelligence:
- Classic cipher method used
- Key rotation: 13 positions
- No special characters encrypted
- Message contains mission-critical information`,
                flag: "WELCOMETOSECURESYSTEMS",
                hints: [
                    "This is a famous cipher named after a Roman Emperor",
                    "Try rotating each letter by 13 positions in the alphabet",
                    "ROT13 is your friend - it's a simple letter substitution"
                ],
                solved: false
            },
            
            web: {
                title: "🌐 Web Fortress",
                difficulty: "medium", 
                points: 250,
                description: "A corporate web application has been compromised. The attacker used a common web vulnerability to gain unauthorized access. Replicate their attack method.",
                story: "SecureCorp's login portal was breached last night. The security team found traces of SQL injection in the logs. Can you exploit the same vulnerability?",
                content: `TARGET: Corporate Login Portal
                
LOGIN FORM ANALYSIS:
URL: https://securecorp.example.com/login
Username Field: [INPUT TYPE=TEXT]
Password Field: [INPUT TYPE=PASSWORD]
 
VULNERABILITY DISCOVERED:
The login form is vulnerable to SQL injection bypass
 
ATTACK VECTOR:
Input this payload in the username field:
admin' OR '1'='1' --
 
EXPECTED BEHAVIOR:
- Bypass authentication
- Access admin panel
- Flag location: /admin/secret_flag.txt
 
SQL QUERY (RECONSTRUCTED):
SELECT * FROM users WHERE username='[INPUT]' AND password='[INPUT]'`,
                flag: "WEB_SECURITY_MATTERS_2024",
                hints: [
                    "The classic SQL injection payload uses OR logic",
                    "Try: admin' OR '1'='1' --",
                    "The double dash (--) comments out the rest of the SQL query"
                ],
                solved: false
            },
            
            binary: {
                title: "💾 Binary Beast",
                difficulty: "hard",
                points: 400,
                description: "A suspicious executable was found on a compromised system. Reverse engineer this binary to extract the hidden flag from its memory.",
                story: "Malware analysts discovered this binary during a forensic investigation. The malware appears to hide its payload in plain sight. Your mission: extract the flag without executing the malicious code.",
                content: `BINARY ANALYSIS REPORT:
                
SUSPICIOUS EXECUTABLE: malware.exe
File Type: PE32 Executable
Architecture: x86-64
Compiler: GCC 9.4.0
 
HEX DUMP ANALYSIS:
Offset: 0x1A40
48 65 6C 6C 6F 20 57 6F 72 6C 64 21 20 46 6C 61
67 3A 20 42 49 4E 41 52 59 5F 52 45 56 45 52 53
45 5F 45 4E 47 49 4E 45 45 52 49 4E 47 5F 4D 41
53 54 45 52
 
MEMORY LAYOUT:
.text   section: Contains executable code
.data   section: Contains flag in hex format
.rodata section: Contains string literals
 
ANALYSIS TOOLS RECOMMENDED:
- Hex editor for raw analysis
- Strings command for text extraction
- Disassembler for code analysis`,
                flag: "BINARY_REVERSE_ENGINEERING_MASTER",
                hints: [
                    "The hex dump contains ASCII-encoded text",
                    "Convert hex bytes to ASCII characters",
                    "Look for the pattern starting with '48 65 6C 6C 6F' (Hello)"
                ],
                solved: false
            },
            
            forensics: {
                title: "🔍 Digital Forensics",
                difficulty: "hard",
                points: 350,
                description: "A security incident occurred at MegaCorp. Analyze the system logs to determine how the attacker gained access and find the hidden evidence.",
                story: "At 3:42 AM, MegaCorp's SIEM triggered multiple alerts. The SOC team needs your expertise to piece together the attack timeline and find the compromised account.",
                content: `INCIDENT TIMELINE - SYSTEM LOGS:
 
2024-08-01 15:42:33 [INFO] Login attempt from 192.168.1.100 - User: admin
2024-08-01 15:42:35 [WARN] Failed login attempt - User: admin - Reason: Invalid password
2024-08-01 15:42:37 [INFO] Login attempt from 192.168.1.100 - User: backup_admin  
2024-08-01 15:42:39 [INFO] Successful login - User: backup_admin
2024-08-01 15:42:42 [INFO] User backup_admin accessed /sensitive/files/
2024-08-01 15:42:45 [INFO] File downloaded: company_secrets.zip
2024-08-01 15:42:48 [INFO] User backup_admin accessed admin panel
2024-08-01 15:42:52 [CRITICAL] Privilege escalation detected - backup_admin -> admin
2024-08-01 15:42:55 [INFO] Flag discovered: FORENSICS_INVESTIGATION_COMPLETE_2024
 
NETWORK TRAFFIC ANALYSIS:
Source IP: 192.168.1.100 (Internal network)
Destination: 192.168.1.50 (Domain controller)
Protocol: HTTPS/443
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)
 
EVIDENCE ARTIFACTS:
- Authentication logs
- File access records  
- Network connection logs
- Privilege escalation alerts`,
                flag: "FORENSICS_INVESTIGATION_COMPLETE_2024",
                hints: [
                    "Look for successful login entries in the timeline",
                    "The flag appears directly in the log entries",
                    "Focus on the CRITICAL severity log entry"
                ],
                solved: false
            },
            
            network: {
                title: "🏴‍☠️ Network Ninja",
                difficulty: "expert",
                points: 500,
                description: "Advanced persistent threat detected! Analyze encrypted network traffic to uncover the attacker's command and control communications.",
                story: "State-sponsored hackers have infiltrated the network. Your mission: decrypt their C2 communications and extract intelligence before they complete their objective.",
                content: `NETWORK PACKET CAPTURE ANALYSIS:
 
INTERCEPTED C2 COMMUNICATION:
Protocol: HTTPS over TLS 1.3
Encryption: AES-256-GCM
Source: Unknown APT group
 
ENCRYPTED PAYLOAD (Base64):
VGhpcyBpcyBhIGhpZGRlbiBmbGFnIGZyb20gdGhlIGF0dGFja2VyJ3MgQzIgc2VydmVyOiBORVRXT1JLX1NFQ1VSSVRZX05JTkpBX01BU1RFUl8yMDI0
 
TRAFFIC ANALYSIS:
Time: 2024-08-01 16:23:15 UTC
Direction: Outbound
Size: 147 bytes
Frequency: Every 300 seconds
 
DECRYPTION PROCESS:
1. Base64 decode the payload
2. Analyze the plaintext message
3. Extract the embedded flag
 
THREAT INTELLIGENCE:
- APT group uses base64 encoding for C2
- Flag format embedded in communications
- Time-sensitive intelligence extraction required`,
                flag: "NETWORK_SECURITY_NINJA_MASTER_2024",
                hints: [
                    "The payload is base64 encoded, not encrypted",
                    "Use any base64 decoder to reveal the message",
                    "The flag is contained within the decoded plaintext"
                ],
                solved: false
            }
        };
 
        // Initialize the application
        function init() {
            createStars();
            renderChallenges();
            updateLeaderboard();
            setInterval(updateCountdown, 1000);
            updateCountdown();
            
            // Set up event listeners after DOM is ready
            setupEventListeners();
            
            // Show welcome message
            console.log('🚀 EliteSecure CTF Platform Initialized');
            console.log('💡 Demo credentials: username="demo", password="demo123"');
        }
 
        function setupEventListeners() {
            // Registration form
            const registerForm = document.getElementById('registerForm');
            if (registerForm) {
                registerForm.addEventListener('submit', handleRegistration);
            }
            
            // Login form  
            const loginForm = document.getElementById('loginForm');
            if (loginForm) {
                loginForm.addEventListener('submit', handleLogin);
            }
            
            // Additional button listeners for forms (backup)
            const loginBtn = document.getElementById('loginSubmitBtn');
            if (loginBtn) {
                loginBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    handleLogin(e);
                });
            }
            
            const registerBtn = document.getElementById('registerSubmitBtn');
            if (registerBtn) {
                registerBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    handleRegistration(e);
                });
            }
            
            // Close modals when clicking outside
            window.addEventListener('click', function(event) {
                const modals = document.querySelectorAll('.modal');
                modals.forEach(modal => {
                    if (event.target === modal) {
                        modal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });
            });
 
            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    const openModals = document.querySelectorAll('.modal[style*="block"]');
                    openModals.forEach(modal => {
                        modal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    });
                }
            });
 
            // Enter key support for forms
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    const activeModal = document.querySelector('.modal[style*="block"]');
                    if (activeModal) {
                        const submitBtn = activeModal.querySelector('button[type="submit"]');
                        if (submitBtn) {
                            submitBtn.click();
                        }
                    }
                }
            });
        }
 
        // Star field animation
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 150; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 2 + 's';
                star.style.animationDuration = (Math.random() * 3 + 1) + 's';
                starsContainer.appendChild(star);
            }
        }
 
        // Navigation functions
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }
 
        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
 
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            document.body.style.overflow = 'auto';
        }
 
        // Countdown timer
        function updateCountdown() {
            const targetDate = new Date();
            targetDate.setDate(targetDate.getDate() + 2); // Competition starts in 2 days
            targetDate.setHours(9, 0, 0, 0); // 9:00 AM
            
            const now = new Date().getTime();
            const distance = targetDate.getTime() - now;
            
            if (distance > 0) {
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                document.getElementById('countdown').innerHTML = 
                    `⏰ ${days}d ${hours}h ${minutes}m ${seconds}s`;
            } else {
                document.getElementById('countdown').innerHTML = "🚀 Competition is LIVE!";
                document.getElementById('countdown').style.color = "#4CAF50";
            }
        }
 
        // Function to save registration data to CSV
        function saveRegistrationToCSV(userData) {
            // Get existing data from localStorage or create new array
            const existingData = JSON.parse(localStorage.getItem('registeredUsers') || '[]');
            existingData.push(userData);
            localStorage.setItem('registeredUsers', JSON.stringify(existingData));

            // Create CSV content
            const csvContent = existingData.map(user => 
                `${user.username},${user.email},${user.team},${user.registrationDate}`
            ).join('\n');
            
            const header = 'Username,Email,Team,Registration Date\n';
            const blob = new Blob([header + csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', 'registered_users.csv');
            link.style.display = 'none';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // User registration
        function handleRegistration(e) {
            e.preventDefault();
            
            const username = document.getElementById('regUsername').value.trim();
            const email = document.getElementById('regEmail').value.trim();
            const password = document.getElementById('regPassword').value;
            const team = document.getElementById('regTeam').value.trim();
            
            // Show loading state on button
            const registerBtn = document.getElementById('registerSubmitBtn');
            const originalText = registerBtn.innerHTML;
            registerBtn.innerHTML = '<div class="loading"></div> Creating Account...';
            registerBtn.disabled = true;
            
            // Validation
            if (username.length < 3) {
                showMessage('Username must be at least 3 characters long', 'error');
                registerBtn.innerHTML = originalText;
                registerBtn.disabled = false;
                return;
            }
            
            if (users.find(u => u.username.toLowerCase() === username.toLowerCase())) {
                showMessage('Username already taken. Choose another one.', 'error');
                registerBtn.innerHTML = originalText;
                registerBtn.disabled = false;
                return;
            }
            
            if (password.length < 6) {
                showMessage('Password must be at least 6 characters long', 'error');
                registerBtn.innerHTML = originalText;
                registerBtn.disabled = false;
                return;
            }
            
            // Simulate registration delay
            setTimeout(() => {
                const user = {
                    username: username,
                    email: email,
                    password: password,
                    team: team || 'Independent',
                    points: 0,
                    solvedChallenges: [],
                    joinDate: new Date().toISOString()
                };
                
                users.push(user);
                currentUser = user;
                
                // Save registration data to CSV
                const registrationData = {
                    username: username,
                    email: email,
                    team: team || 'Independent'
                };

                // Send registration data to backend
                fetch('http://localhost:3000/api/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(registrationData)
                })
                .then(response => response.json())
                .then(result => {
                    if (result.error) {
                        showMessage('❌ Registration failed: ' + result.error, 'error');
                        return;
                    }
                    showMessage('✅ Registration successful!', 'success');
                })
                .catch(error => {
                    console.error('Registration error:', error);
                    showMessage('❌ Failed to save registration. Please try again.', 'error');
                });
                
                // Remove message after 10 seconds
                setTimeout(() => {
                    document.body.removeChild(messageDiv);
                }, 10000);
                
                // Store the registration data for later download
                window.lastRegistration = registrationData;
                
                updateUserInterface();
                closeModal('registerModal');
                showMessage(`🎉 Welcome to EliteSecure CTF, ${username}! Your journey begins now.`, 'success');
                
                // Clear form and reset button
                document.getElementById('registerForm').reset();
                registerBtn.innerHTML = originalText;
                registerBtn.disabled = false;
            }, 1500);
        }
 
        // User login
        function handleLogin(e) {
            e.preventDefault();
            
            const username = document.getElementById('loginUsername').value.trim();
            const password = document.getElementById('loginPassword').value;
            
            // Show loading state on button
            const loginBtn = document.getElementById('loginSubmitBtn');
            const originalText = loginBtn.innerHTML;
            loginBtn.innerHTML = '<div class="loading"></div> Authenticating...';
            loginBtn.disabled = true;
            
            // Simulate authentication delay
            setTimeout(() => {
                const user = users.find(u => 
                    u.username.toLowerCase() === username.toLowerCase() && u.password === password
                );
                
                if (user) {
                    currentUser = user;
                    updateUserInterface();
                    closeModal('loginModal');
                    showMessage(`🚀 Welcome back, ${user.username}! Ready to hack?`, 'success');
                    
                    // Clear form
                    document.getElementById('loginForm').reset();
                } else {
                    showMessage('❌ Invalid credentials. Please check your username and password.', 'error');
                }
                
                // Reset button
                loginBtn.innerHTML = originalText;
                loginBtn.disabled = false;
            }, 1000);
        }
 
        // Logout
        function logout() {
            currentUser = null;
            updateUserInterface();
            showMessage('👋 Successfully logged out. See you next time!', 'success');
        }
 
        // Update user interface based on login status
        function updateUserInterface() {
            if (currentUser) {
                // Hide auth buttons, show user status
                document.getElementById('auth-buttons').style.display = 'none';
                document.getElementById('userStatus').style.display = 'block';
                document.getElementById('user-nav').style.display = 'block';
                
                // Update user info
                document.getElementById('userName').textContent = currentUser.username;
                document.getElementById('nav-username').textContent = currentUser.username;
                document.getElementById('userPoints').textContent = currentUser.points;
                document.getElementById('challengesSolved').textContent = 
                    `${currentUser.solvedChallenges.length}/5`;
                
                // Update user level based on points
                let level = 'Newbie Hacker';
                if (currentUser.points >= 1000) level = 'Elite Hacker';
                else if (currentUser.points >= 500) level = 'Advanced Hacker'; 
                else if (currentUser.points >= 100) level = 'Script Kiddie';
                
                document.getElementById('userLevel').textContent = level;
                
            } else {
                // Show auth buttons, hide user status
                document.getElementById('auth-buttons').style.display = 'block';
                document.getElementById('userStatus').style.display = 'none';
                document.getElementById('user-nav').style.display = 'none';
            }
            
            // Re-render challenges to update solved status
            renderChallenges();
            updateLeaderboard();
        }
 
        // Render challenges dynamically
        function renderChallenges() {
            const grid = document.getElementById('challengesGrid');
            grid.innerHTML = '';
            
            Object.keys(challenges).forEach(challengeId => {
                const challenge = challenges[challengeId];
                const isSolved = currentUser && currentUser.solvedChallenges.includes(challengeId);
                
                const card = document.createElement('div');
                card.className = 'challenge-card';
                card.innerHTML = `
                    <h3>${challenge.title}</h3>
                    <div class="difficulty ${challenge.difficulty}">${challenge.difficulty.toUpperCase()}</div>
                    <div class="points">💎 ${challenge.points} Points</div>
                    <div class="challenge-description">${challenge.description}</div>
                    <button class="cta-button" onclick="openChallenge('${challengeId}')" 
                            ${!currentUser ? 'title="Please login to access challenges"' : ''}>
                        ${isSolved ? '✅ Solved' : '🎯 Start Challenge'}
                    </button>
                    <div class="challenge-status ${isSolved ? 'status-solved' : 'status-unsolved'}">
                        ${isSolved ? '🏆 Challenge Completed!' : '🔒 Awaiting Solution'}
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }
 
        // Open challenge modal with detailed content and interactive elements
        function openChallenge(challengeId) {
            if (!currentUser) {
                showMessage('🔐 Please register or login to access challenges!', 'error');
                openModal('loginModal');
                return;
            }
            
            const challenge = challenges[challengeId];
            const isSolved = currentUser.solvedChallenges.includes(challengeId);
            
            let interactiveContent = '';
            
            // Generate interactive content based on challenge type
            switch(challengeId) {
                case 'crypto':
                    interactiveContent = `
                        <div style="background: rgba(0,0,0,0.4); padding: 25px; border-radius: 15px; 25px 0; border: 1px solid rgba(0, 212, 255, 0.3);">
                            <h4 style="color: #ff6b35; 15px;">🔍 Interactive Crypto Tool</h4>
                            <p style=" 15px;">Encrypted Message: <code style="color: #00d4ff;">Gur frperg zrffntr vf: JRYPBZRGBFRPHERFLFGRZF</code></p>
                            
                            <div style=" 20px 0;">
                                <label style="color: #00d4ff; display: block; 10px;">🔧 ROT Cipher Decoder:</label>
                                <input type="text" id="cryptoInput" placeholder="Paste encrypted text here..." 
                                       style="width: 100%; padding: 10px; background: rgba(255,255,255,0.1); border: 1px solid #333; border-radius: 5px; color: white; 10px;">
                                <div style="display: flex; gap: 10px; 10px;">
                                    <button onclick="decodeCrypto(13)" class="cta-button" style="font-size: 0.9em; padding: 8px 15px;">ROT13</button>
                                    <button onclick="decodeCrypto(1)" class="cta-button" style="font-size: 0.9em; padding: 8px 15px;">ROT1</button>
                                    <button onclick="decodeCrypto(25)" class="cta-button" style="font-size: 0.9em; padding: 8px 15px;">ROT25</button>
                                </div>
                                <div id="cryptoOutput" style="padding: 15px; background: rgba(0, 212, 255, 0.1); border-radius: 8px; monospace; min-height: 40px; border: 1px solid #00d4ff;">
                                    Decoded text will appear here...
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'web':
                    interactiveContent = `
                        <div style="background: rgba(0,0,0,0.4); padding: 25px; border-radius: 15px; 25px 0; border: 1px solid rgba(0, 212, 255, 0.3);">
                            <h4 style="color: #ff6b35; 15px;">🌐 SQL Injection Lab</h4>
                            
                            <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 10px; 20px;">
                                <h5 style="color: #00d4ff; 15px;">🎯 Target Login Form</h5>
                                <div style="display: grid; gap: 15px;">
                                    <div>
                                        <label style="color: #ccc; display: block; 5px;">Username:</label>
                                        <input type="text" id="webUsername" placeholder="Enter username or SQL payload..." 
                                               style="width: 100%; padding: 12px; background: rgba(255,255,255,0.1); border: 1px solid #333; border-radius: 5px; color: white;">
                                    </div>
                                    <div>
                                        <label style="color: #ccc; display: block; 5px;">Password:</label>
                                        <input type="password" id="webPassword" placeholder="Enter password..." 
                                               style="width: 100%; padding: 12px; background: rgba(255,255,255,0.1); border: 1px solid #333; border-radius: 5px; color: white;">
                                    </div>
                                    <button onclick="testSQLInjection()" class="cta-button" style="width: 100%;">🚀 Attempt Login</button>
                                </div>
                            </div>
                            
                            <div id="webResult" style=" 15px; padding: 15px; background: rgba(255, 107, 53, 0.1); border-radius: 8px; border: 1px solid #ff6b35;">
                                💡 Try SQL injection payloads like: <code>admin' OR '1'='1' --</code>
                            </div>
                            
                            <div style=" 20px; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 8px;">
                                <h5 style="color: #00d4ff; 10px;">📋 SQL Query Log:</h5>
                                <div id="sqlQueryLog" style=" monospace; color: #ccc; font-size: 0.9em;">
                                    SELECT * FROM users WHERE username='[INPUT]' AND password='[INPUT]'
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'binary':
                    interactiveContent = `
                        <div style="background: rgba(0,0,0,0.4); padding: 25px; border-radius: 15px; 25px 0; border: 1px solid rgba(0, 212, 255, 0.3);">
                            <h4 style="color: #ff6b35; 15px;">💾 Hex Analysis Lab</h4>
                            
                            <div style=" 20px;">
                                <h5 style="color: #00d4ff; 10px;">🔍 Hex Dump from malware.exe:</h5>
                                <div style="background: rgba(0,0,0,0.6); padding: 15px; border-radius: 8px; monospace; font-size: 0.9em; 1.6; overflow-x: auto;">
                                    <div style="color: #666;">Offset: 0x1A40</div>
                                    <div style="color: #00d4ff;">48 65 6C 6C 6F 20 57 6F 72 6C 64 21 20 46 6C 61</div>
                                    <div style="color: #00d4ff;">67 3A 20 42 49 4E 41 52 59 5F 52 45 56 45 52 53</div>
                                    <div style="color: #00d4ff;">45 5F 45 4E 47 49 4E 45 45 52 49 4E 47 5F 4D 41</div>
                                    <div style="color: #00d4ff;">53 54 45 52</div>
                                </div>
                            </div>
                            
                            <div style=" 20px 0;">
                                <label style="color: #00d4ff; display: block; 10px;">🔧 Hex to ASCII Converter:</label>
                                <textarea id="hexInput" placeholder="Paste hex values here (space or no space separated)..." 
                                          style="width: 100%; height: 80px; padding: 10px; background: rgba(255,255,255,0.1); border: 1px solid #333; border-radius: 5px; color: white; resize: vertical; monospace;"></textarea>
                                <button onclick="convertHexToAscii()" class="cta-button" style=" 10px;">🔍 Convert to ASCII</button>
                            </div>
                            
                            <div id="binaryOutput" style="padding: 15px; background: rgba(0, 212, 255, 0.1); border-radius: 8px; monospace; min-height: 50px; border: 1px solid #00d4ff;">
                                ASCII output will appear here...
                            </div>
                            
                            <div style=" 15px; padding: 10px; background: rgba(255, 107, 53, 0.1); border-radius: 5px; border-left: 3px solid #ff6b35;">
                                💡 <strong>Tip:</strong> Copy the hex dump above and paste it in the converter!
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'forensics':
                    interactiveContent = `
                        <div style="background: rgba(0,0,0,0.4); padding: 25px; border-radius: 15px; 25px 0; border: 1px solid rgba(0, 212, 255, 0.3);">
                            <h4 style="color: #ff6b35; 15px;">🔍 Log Analysis Interface</h4>
                            
                            <div style=" 20px;">
                                <h5 style="color: #00d4ff; 10px;">📊 System Logs - Filter & Search:</h5>
                                <div style="display: flex; gap: 10px; 15px;">
                                    <input type="text" id="logSearch" placeholder="Search logs..." 
                                           style="flex: 1; padding: 8px; background: rgba(255,255,255,0.1); border: 1px solid #333; border-radius: 5px; color: white;">
                                    <button onclick="filterLogs('INFO')" class="cta-button" style="font-size: 0.8em; padding: 8px 12px;">INFO</button>
                                    <button onclick="filterLogs('WARN')" class="cta-button" style="font-size: 0.8em; padding: 8px 12px;">WARN</button>
                                    <button onclick="filterLogs('CRITICAL')" class="cta-button" style="font-size: 0.8em; padding: 8px 12px;">CRITICAL</button>
                                    <button onclick="filterLogs('ALL')" class="cta-button" style="font-size: 0.8em; padding: 8px 12px;">ALL</button>
                                </div>
                            </div>
                            
                            <div id="logViewer" style="background: rgba(0,0,0,0.6); padding: 15px; border-radius: 8px; monospace; font-size: 0.85em; 1.4; max-height: 300px; overflow-y: auto; border: 1px solid #333;">
                                <div class="log-entry info">2024-08-01 15:42:33 [INFO] Login attempt from 192.168.1.100 - User: admin</div>
                                <div class="log-entry warn">2024-08-01 15:42:35 [WARN] Failed login attempt - User: admin - Reason: Invalid password</div>
                                <div class="log-entry info">2024-08-01 15:42:37 [INFO] Login attempt from 192.168.1.100 - User: backup_admin</div>
                                <div class="log-entry info">2024-08-01 15:42:39 [INFO] Successful login - User: backup_admin</div>
                                <div class="log-entry info">2024-08-01 15:42:42 [INFO] User backup_admin accessed /sensitive/files/</div>
                                <div class="log-entry info">2024-08-01 15:42:45 [INFO] File downloaded: company_secrets.zip</div>
                                <div class="log-entry info">2024-08-01 15:42:48 [INFO] User backup_admin accessed admin panel</div>
                                <div class="log-entry critical">2024-08-01 15:42:52 [CRITICAL] Privilege escalation detected - backup_admin -> admin</div>
                                <div class="log-entry info">2024-08-01 15:42:55 [INFO] Flag discovered: FORENSICS_INVESTIGATION_COMPLETE_2024</div>
                            </div>
                            
                            <div style=" 15px;">
                                <button onclick="highlightSuspicious()" class="cta-button">🔍 Highlight Suspicious Activity</button>
                                <button onclick="exportFindings()" class="cta-button">📄 Export Findings</button>
                            </div>
                            
                            <div id="forensicsAnalysis" style=" 15px; padding: 15px; background: rgba(0, 212, 255, 0.1); border-radius: 8px; border: 1px solid #00d4ff; display: none;">
                                <h5 style="color: #00d4ff; 10px;">📋 Analysis Results:</h5>
                                <div id="analysisResults"></div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'network':
                    interactiveContent = `
                        <div style="background: rgba(0,0,0,0.4); padding: 25px; border-radius: 15px; 25px 0; border: 1px solid rgba(0, 212, 255, 0.3);">
                            <h4 style="color: #ff6b35; 15px;">🏴‍☠️ Network Packet Analyzer</h4>
                            
                            <div style=" 20px;">
                                <h5 style="color: #00d4ff; 10px;">📡 Intercepted C2 Communication:</h5>
                                <div style="background: rgba(0,0,0,0.6); padding: 15px; border-radius: 8px; monospace; font-size: 0.9em;">
                                    <div style="color: #666; 10px;">Packet Capture Analysis:</div>
                                    <div style="color: #00d4ff;">Protocol: HTTPS/TLS 1.3</div>
                                    <div style="color: #00d4ff;">Source: 203.0.113.15:443</div>
                                    <div style="color: #00d4ff;">Destination: 198.51.100.42:8080</div>
                                    <div style="color: #ff6b35; 10px;">Encrypted Payload (Base64):</div>
                                    <div style="color: #ccc; word-break: break-all; 5px;">VGhpcyBpcyBhIGhpZGRlbiBmbGFnIGZyb20gdGhlIGF0dGFja2VyJ3MgQzIgc2VydmVyOiBORVRXT1JLX1NFQ1VSSVRZX05JTkpBX01BU1RFUl8yMDI0</div>
                                </div>
                            </div>
                            
                            <div style=" 20px 0;">
                                <label style="color: #00d4ff; display: block; 10px;">🔧 Base64 Decoder:</label>
                                <textarea id="base64Input" placeholder="Paste base64 encoded data here..." 
                                          style="width: 100%; height: 80px; padding: 10px; background: rgba(255,255,255,0.1); border: 1px solid #333; border-radius: 5px; color: white; resize: vertical; monospace;"></textarea>
                                <button onclick="decodeBase64()" class="cta-button" style=" 10px;">🔍 Decode Payload</button>
                            </div>
                            
                            <div id="networkOutput" style="padding: 15px; background: rgba(0, 212, 255, 0.1); border-radius: 8px; monospace; min-height: 50px; border: 1px solid #00d4ff;">
                                Decoded payload will appear here...
                            </div>
                            
                            <div style=" 20px;">
                                <h5 style="color: #00d4ff; 10px;">📊 Traffic Analysis:</h5>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                                    <div style="background: rgba(76, 175, 80, 0.2); padding: 10px; border-radius: 5px; text-align: center;">
                                        <div style="color: #4CAF50; font-weight: bold;">Packets</div>
                                        <div style="font-size: 1.5em;">1,247</div>
                                    </div>
                                    <div style="background: rgba(255, 152, 0, 0.2); padding: 10px; border-radius: 5px; text-align: center;">
                                        <div style="color: #FF9800; font-weight: bold;">Encrypted</div>
                                        <div style="font-size: 1.5em;">98.3%</div>
                                    </div>
                                    <div style="background: rgba(244, 67, 54, 0.2); padding: 10px; border-radius: 5px; text-align: center;">
                                        <div style="color: #F44336; font-weight: bold;">Suspicious</div>
                                        <div style="font-size: 1.5em;">15</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
            }
            
            document.getElementById('challengeContent').innerHTML = `
                <h2 style="color: #00d4ff; 25px; text-align: center;">
                    ${challenge.title}
                </h2>
                
                <div style="display: flex; justify-content: space-between; 25px; flex-wrap: wrap;">
                    <div class="difficulty ${challenge.difficulty}" style=" 10px;">
                        ${challenge.difficulty.toUpperCase()}
                    </div>
                    <div class="points" style=" 10px;">
                        💎 ${challenge.points} Points
                    </div>
                </div>
                
                <div style="background: rgba(0, 212, 255, 0.1); padding: 20px; border-radius: 10px; 25px; border-left: 4px solid #00d4ff;">
                    <h4 style="color: #00d4ff; 15px;">📖 Mission Briefing</h4>
                    <p style=" 1.6;">${challenge.story}</p>
                </div>
                
                <div style=" 25px;">
                    <h4 style="color: #00d4ff; 15px;">🎯 Challenge Description</h4>
                    <p style=" 1.6;">${challenge.description}</p>
                </div>
                
                ${interactiveContent}
                
                <div class="hint-box">
                    <h4 style="color: #ff6b35; 15px;">💡 Hints Available</h4>
                    <div id="hintsContainer-${challengeId}">
                        <button class="cta-button" onclick="showHint('${challengeId}', 0)" 
                                style="background: linear-gradient(45deg, #ff6b35, #f7931e); 5px;">
                            💡 Hint 1
                        </button>
                        <button class="cta-button" onclick="showHint('${challengeId}', 1)" 
                                style="background: linear-gradient(45deg, #ff6b35, #f7931e); 5px;">
                            💡 Hint 2  
                        </button>
                        <button class="cta-button" onclick="showHint('${challengeId}', 2)" 
                                style="background: linear-gradient(45deg, #ff6b35, #f7931e); 5px;">
                            💡 Hint 3
                        </button>
                    </div>
                    <div id="hintDisplay-${challengeId}" style=" 15px; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 8px; display: none;">
                    </div>
                </div>
                
                ${isSolved ? `
                    <div class="success-message">
                        🎉 Congratulations! You've already solved this challenge and earned ${challenge.points} points!
                    </div>
                ` : `
                    <div class="form-group" style=" 30px;">
                        <label for="flagInput-${challengeId}">🚩 Submit Your Flag:</label>
                        <input type="text" id="flagInput-${challengeId}" 
                               placeholder="Enter the flag you discovered..." 
                               style=" monospace;">
                    </div>
                    <button class="cta-button" onclick="submitFlag('${challengeId}')" 
                            style="width: 100%; 15px; font-size: 1.3em;">
                        🚀 Submit Flag
                    </button>
                `}
                
                <div id="flagResult-${challengeId}" style=" 20px;"></div>
            `;
            
            // Add CSS for log entries
            const logStyle = document.createElement('style');
            logStyle.textContent = `
                .log-entry { 5px 0; padding: 5px; border-radius: 3px; }
                .log-entry.info { color: #00d4ff; }
                .log-entry.warn { color: #ff9800; background: rgba(255, 152, 0, 0.1); }
                .log-entry.critical { color: #f44336; background: rgba(244, 67, 54, 0.2); font-weight: bold; }
                .log-entry.highlight { background: rgba(255, 107, 53, 0.3) !important; animation: blink 1s infinite; }
                @keyframes blink { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0.7; } }
            `;
            document.head.appendChild(logStyle);
            
            openModal('challengeModal');
        }
 
        // Show hints for challenges
        function showHint(challengeId, hintIndex) {
            const challenge = challenges[challengeId];
            const hintDisplay = document.getElementById(`hintDisplay-${challengeId}`);
            
            if (challenge.hints && challenge.hints[hintIndex]) {
                hintDisplay.innerHTML = `
                    <strong>💡 Hint ${hintIndex + 1}:</strong><br>
                    <em>${challenge.hints[hintIndex]}</em>
                `;
                hintDisplay.style.display = 'block';
            }
        }
 
        // Submit flag for challenge
        function submitFlag(challengeId) {
            const flagInput = document.getElementById(`flagInput-${challengeId}`);
            const userFlag = flagInput.value.trim().toUpperCase();
            const challenge = challenges[challengeId];
            const resultDiv = document.getElementById(`flagResult-${challengeId}`);
            
            if (!userFlag) {
                resultDiv.innerHTML = '<div class="error-message">⚠️ Please enter a flag before submitting.</div>';
                return;
            }
            
            // Show loading state
            resultDiv.innerHTML = '<div style="text-align: center; color: #00d4ff;"><div class="loading"></div> Validating flag...</div>';
            
            // Simulate processing delay for realism
            setTimeout(() => {
                if (userFlag === challenge.flag.toUpperCase()) {
                    if (!currentUser.solvedChallenges.includes(challengeId)) {
                        // First time solving
                        currentUser.points += challenge.points;
                        currentUser.solvedChallenges.push(challengeId);
                        challenge.solved = true;
                        
                        resultDiv.innerHTML = `
                            <div class="success-message">
                                🎉 CORRECT! You've earned ${challenge.points} points!<br>
                                🏆 Total Points: ${currentUser.points}
                            </div>
                        `;
                        
                        updateUserInterface();
                        
                        // Close modal after success
                        setTimeout(() => {
                            closeModal('challengeModal');
                            showMessage(`🎯 Challenge "${challenge.title}" completed! +${challenge.points} points`, 'success');
                        }, 2000);
                        
                    } else {
                        resultDiv.innerHTML = '<div class="error-message">✅ You\'ve already solved this challenge!</div>';
                    }
                } else {
                    resultDiv.innerHTML = `
                        <div class="error-message">
                            ❌ Incorrect flag. Keep trying!<br>
                            <small>💡 Make sure you've followed all the steps carefully.</small>
                        </div>
                    `;
                    
                    // Clear input for retry
                    flagInput.value = '';
                    flagInput.focus();
                }
            }, 1500);
        }
 
        // Update leaderboard
        function updateLeaderboard() {
            const sortedUsers = users
                .filter(user => user.points > 0)
                .sort((a, b) => b.points - a.points);
            
            const leaderboard = document.getElementById('leaderboard');
            
            if (sortedUsers.length === 0) {
                leaderboard.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #666;">
                        🏆 No scores yet. Be the first to solve a challenge!
                    </div>
                `;
                return;
            }
            
            let html = '';
            sortedUsers.slice(0, 10).forEach((user, index) => {
                const isCurrentUser = currentUser && user.username === currentUser.username;
                const medal = index === 0 ? '🥇' : index === 1 ? '🥈' : index === 2 ? '🥉' : '🏅';
                
                html += `
                    <div class="leaderboard-item" ${isCurrentUser ? 'style="border-color: #ff6b35; background: rgba(255, 107, 53, 0.1);"' : ''}>
                        <div class="rank">${medal} #${index + 1}</div>
                        <div class="user-info">
                            <div class="user-name">
                                ${user.username} ${isCurrentUser ? '(You)' : ''}
                            </div>
                            <div class="user-team">
                                🏢 ${user.team} • 🎯 ${user.solvedChallenges.length}/5 solved
                            </div>
                        </div>
                        <div class="user-points">${user.points} pts</div>
                    </div>
                `;
            });
            
            leaderboard.innerHTML = html;
        }
 
        // Function to download registration data
        function downloadRegistrationData() {
            if (!window.lastRegistration) {
                showMessage('No registration data available to download', 'error');
                return;
            }
            
            const header = 'Username,Email,Team,Registration Date\n';
            const csvContent = `${header}${window.lastRegistration.username},${window.lastRegistration.email},${window.lastRegistration.team},${window.lastRegistration.registrationDate}`;
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            
            link.setAttribute('href', url);
            link.setAttribute('download', 'registration_data.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showMessage('✅ Registration data downloaded successfully!', 'success');
        }

        // Show success/error messages
        function showMessage(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = type === 'success' ? 'success-message' : 'error-message';
            messageDiv.textContent = message;
            messageDiv.style.position = 'fixed';
            messageDiv.style.top = '20px';
            messageDiv.style.right = '20px';
            messageDiv.style.zIndex = '10000';
            messageDiv.style.maxWidth = '400px';
            messageDiv.style.animation = 'slideIn 0.3s ease';
            
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(messageDiv);
                }, 300);
            }, 4000);
        }

        // Missing functions for interactive challenge features
        function decodeCrypto(rotation) {
            const input = document.getElementById('cryptoInput').value;
            const output = document.getElementById('cryptoOutput');
            
            if (!input) {
                output.innerHTML = '<span style="color: #ff6b35;">Please enter text to decode</span>';
                return;
            }
            
            let decoded = '';
            for (let char of input) {
                if (char.match(/[a-zA-Z]/)) {
                    const isUpperCase = char === char.toUpperCase();
                    const charCode = char.charCodeAt(0);
                    const base = isUpperCase ? 65 : 97;
                    const rotated = ((charCode - base + rotation) % 26 + 26) % 26;
                    decoded += String.fromCharCode(base + rotated);
                } else {
                    decoded += char;
                }
            }
            
            output.innerHTML = `<span style="color: #00d4ff; font-weight: bold;">${decoded}</span>`;
        }

        function testSQLInjection() {
            const username = document.getElementById('webUsername').value;
            const password = document.getElementById('webPassword').value;
            const resultDiv = document.getElementById('webResult');
            const queryLog = document.getElementById('sqlQueryLog');
            
            if (!username) {
                resultDiv.innerHTML = '<span style="color: #ff6b35;">Please enter a username or SQL payload</span>';
                return;
            }
            
            // Simulate SQL injection detection
            const sqlQuery = `SELECT * FROM users WHERE username='${username}' AND password='${password}'`;
            queryLog.innerHTML = `<span style="color: #ff6b35;">${sqlQuery}</span>`;
            
            if (username.includes("'") || username.includes("OR") || username.includes("--")) {
                resultDiv.innerHTML = `
                    <span style="color: #4CAF50; font-weight: bold;">✅ SQL Injection Detected!</span><br>
                    <small>Login bypassed successfully. Admin panel accessed.</small><br>
                    <small>💡 Flag location: /admin/secret_flag.txt</small>
                `;
            } else {
                resultDiv.innerHTML = `
                    <span style="color: #ff6b35;">❌ Authentication failed</span><br>
                    <small>Try using SQL injection payloads like: admin' OR '1'='1' --</small>
                `;
            }
        }

        function convertHexToAscii() {
            const hexInput = document.getElementById('hexInput').value;
            const output = document.getElementById('binaryOutput');
            
            if (!hexInput) {
                output.innerHTML = '<span style="color: #ff6b35;">Please enter hex values to convert</span>';
                return;
            }
            
            try {
                // Remove spaces and convert hex to ASCII
                const cleanHex = hexInput.replace(/\s/g, '');
                let ascii = '';
                
                for (let i = 0; i < cleanHex.length; i += 2) {
                    const hexByte = cleanHex.substr(i, 2);
                    const charCode = parseInt(hexByte, 16);
                    if (!isNaN(charCode)) {
                        ascii += String.fromCharCode(charCode);
                    }
                }
                
                output.innerHTML = `<span style="color: #00d4ff; font-weight: bold;">${ascii}</span>`;
            } catch (error) {
                output.innerHTML = '<span style="color: #ff6b35;">Invalid hex format. Please check your input.</span>';
            }
        }

        function filterLogs(level) {
            const logViewer = document.getElementById('logViewer');
            const logEntries = logViewer.querySelectorAll('.log-entry');
            
            logEntries.forEach(entry => {
                if (level === 'ALL' || entry.classList.contains(level.toLowerCase())) {
                    entry.style.display = 'block';
                } else {
                    entry.style.display = 'none';
                }
            });
        }

        function highlightSuspicious() {
            const logViewer = document.getElementById('logViewer');
            const logEntries = logViewer.querySelectorAll('.log-entry');
            
            logEntries.forEach(entry => {
                entry.classList.remove('highlight');
                if (entry.textContent.includes('CRITICAL') || 
                    entry.textContent.includes('backup_admin') ||
                    entry.textContent.includes('Privilege escalation')) {
                    entry.classList.add('highlight');
                }
            });
        }

        function exportFindings() {
            const analysisDiv = document.getElementById('forensicsAnalysis');
            const resultsDiv = document.getElementById('analysisResults');
            
            analysisDiv.style.display = 'block';
            resultsDiv.innerHTML = `
                <div style="color: #00d4ff; margin-bottom: 10px;">
                    <strong>🔍 Investigation Summary:</strong>
                </div>
                <ul style="color: #ccc; margin-left: 20px;">
                    <li>Attacker IP: 192.168.1.100</li>
                    <li>Compromised Account: backup_admin</li>
                    <li>Attack Vector: Credential stuffing</li>
                    <li>Privilege Escalation: backup_admin → admin</li>
                    <li>Files Accessed: /sensitive/files/</li>
                    <li>Flag Found: FORENSICS_INVESTIGATION_COMPLETE_2024</li>
                </ul>
            `;
        }

        function decodeBase64() {
            const base64Input = document.getElementById('base64Input').value;
            const output = document.getElementById('networkOutput');
            
            if (!base64Input) {
                output.innerHTML = '<span style="color: #ff6b35;">Please enter base64 data to decode</span>';
                return;
            }
            
            try {
                const decoded = atob(base64Input);
                output.innerHTML = `<span style="color: #00d4ff; font-weight: bold;">${decoded}</span>`;
            } catch (error) {
                output.innerHTML = '<span style="color: #ff6b35;">Invalid base64 format. Please check your input.</span>';
            }
        }
 
        // Add CSS animations for messages
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
 
        // AI Cybersecurity Expert Bot
        const cybersecurityAI = {
            knowledge: {
                crypto: {
                    concepts: {
                        "symmetric encryption": "Uses the same key for encryption and decryption. Examples: AES, DES, 3DES. Fast but requires secure key distribution.",
                        "asymmetric encryption": "Uses public/private key pairs. Examples: RSA, ECC, DSA. Slower but solves key distribution problem.",
                        "hashing": "One-way function that converts data to fixed-size output. Examples: SHA-256, MD5, bcrypt. Used for password storage and integrity verification.",
                        "rot13": "Simple substitution cipher that rotates letters by 13 positions. Easy to break, mainly used for obfuscation.",
                        "caesar cipher": "Shifts each letter by a fixed number of positions. ROT13 is a special case (shift by 13).",
                        "base64": "Encoding scheme that converts binary data to ASCII. Not encryption - easily reversible.",
                        "xor": "Bitwise operation where output is 1 if inputs differ. Used in simple encryption and steganography."
                    },
                    tools: ["CyberChef", "hashcat", "John the Ripper", "openssl", "hash-identifier"],
                    challenges: "Look for patterns, try common ciphers, use frequency analysis, check for encoding schemes."
                },
                web: {
                    concepts: {
                        "sql injection": "Injection of malicious SQL code through user input. Can bypass authentication, extract data, or modify database.",
                        "xss": "Cross-Site Scripting - injecting malicious scripts into web pages viewed by other users.",
                        "csrf": "Cross-Site Request Forgery - forcing authenticated users to perform unwanted actions.",
                        "file inclusion": "LFI/RFI vulnerabilities that allow inclusion of unauthorized files.",
                        "command injection": "Executing system commands through web application input.",
                        "authentication bypass": "Circumventing login mechanisms through various techniques."
                    },
                    tools: ["Burp Suite", "OWASP ZAP", "sqlmap", "Nikto", "Dirb", "Gobuster"],
                    challenges: "Test all input fields, check for common vulnerabilities, use automated tools, manual testing."
                },
                binary: {
                    concepts: {
                        "reverse engineering": "Analyzing compiled code to understand its functionality and find vulnerabilities.",
                        "disassembly": "Converting machine code back to assembly language for analysis.",
                        "decompilation": "Converting machine code back to high-level language (approximate).",
                        "dynamic analysis": "Running the program and monitoring its behavior (debugging, hooking).",
                        "static analysis": "Analyzing code without execution (disassembly, decompilation).",
                        "memory analysis": "Examining program memory for secrets, flags, or vulnerabilities."
                    },
                    tools: ["Ghidra", "IDA Pro", "x64dbg", "GDB", "Radare2", "Cutter", "strings", "objdump"],
                    challenges: "Look for hardcoded strings, analyze functions, trace execution flow, check for vulnerabilities."
                },
                forensics: {
                    concepts: {
                        "digital forensics": "Scientific process of collecting, analyzing, and preserving digital evidence.",
                        "memory forensics": "Analyzing RAM dumps for evidence of malicious activity.",
                        "disk forensics": "Analyzing storage devices for deleted files, hidden data, and artifacts.",
                        "network forensics": "Analyzing network traffic for security incidents and evidence.",
                        "timeline analysis": "Creating chronological order of events from digital evidence.",
                        "artifact analysis": "Examining system artifacts like logs, registry, and temporary files."
                    },
                    tools: ["Volatility", "Autopsy", "Wireshark", "tshark", "binwalk", "foremost", "photorec"],
                    challenges: "Look for timestamps, hidden data, deleted files, network communications, system artifacts."
                },
                network: {
                    concepts: {
                        "packet analysis": "Examining network packets to understand traffic patterns and detect anomalies.",
                        "protocol analysis": "Understanding and analyzing network protocols for vulnerabilities.",
                        "traffic capture": "Capturing and storing network traffic for analysis.",
                        "encryption": "Securing network communications through various encryption protocols.",
                        "vpn analysis": "Analyzing VPN traffic and configurations.",
                        "wireless security": "Securing and analyzing wireless network communications."
                    },
                    tools: ["Wireshark", "tcpdump", "tshark", "nmap", "netcat", "Metasploit", "Aircrack-ng"],
                    challenges: "Capture traffic, analyze protocols, look for plaintext data, decode encoded content."
                },
                osint: {
                    concepts: {
                        "osint": "Open Source Intelligence (OSINT) is the process of collecting information from publicly available sources to be used in an intelligence context.",
                        "google dorking": "Using advanced Google search operators to find sensitive information.",
                        "whois": "A protocol used to query databases that store registered users or assignees of an Internet resource.",
                        "metadata extraction": "Analyzing files for hidden information such as author, creation date, GPS coordinates, etc.",
                        "social media analysis": "Gathering intelligence from social media platforms."
                    },
                    tools: ["theHarvester", "Maltego", "Recon-ng", "SpiderFoot", "Google Dorks", "whois", "ExifTool"],
                    challenges: "Look for usernames, emails, hidden metadata, social media clues, and use search engines creatively."
                },
                stego: {
                    concepts: {
                        "steganography": "The practice of hiding information within other non-secret text or data.",
                        "lsb": "Least Significant Bit steganography hides data in the least significant bits of image/audio files.",
                        "exif": "Image metadata can sometimes contain hidden messages.",
                        "audio stego": "Hiding data in audio files using various encoding techniques."
                    },
                    tools: ["StegSolve", "zsteg", "binwalk", "stegseek", "Audacity", "exiftool", "strings"],
                    challenges: "Check images, audio, and files for hidden data, metadata, or odd patterns. Use stego tools and try common passwords."
                },
                misc: {
                    concepts: {
                        "encoding": "Transforming data into a different format using a scheme that is publicly available.",
                        "logic puzzles": "Challenges that require creative problem solving, not just technical skills.",
                        "regex": "Regular expressions are patterns used to match character combinations in strings.",
                        "automation": "Using scripts or tools to automate repetitive tasks in CTFs."
                    },
                    tools: ["CyberChef", "Python", "jq", "awk", "sed", "regex101"],
                    challenges: "Think outside the box, automate where possible, and look for non-standard solutions."
                },
                hardware: {
                    concepts: {
                        "hardware hacking": "Manipulating or analyzing physical devices to extract data or bypass protections.",
                        "uart": "Universal Asynchronous Receiver/Transmitter, often used for debugging embedded devices.",
                        "jtag": "A standard for verifying designs and testing printed circuit boards after manufacture.",
                        "side-channel attack": "Exploiting information gained from the physical implementation of a system."
                    },
                    tools: ["Bus Pirate", "Logic Analyzer", "JTAGulator", "OpenOCD", "Arduino", "Raspberry Pi"],
                    challenges: "Look for debug ports, analyze PCB traces, and use hardware interfaces to extract firmware or secrets."
                },
                social: {
                    concepts: {
                        "social engineering": "Manipulating people into giving up confidential information.",
                        "phishing": "Tricking users into revealing information via fake emails or websites.",
                        "pretexting": "Creating a fabricated scenario to obtain information.",
                        "tailgating": "Gaining physical access by following authorized personnel."
                    },
                    tools: ["SET (Social-Engineer Toolkit)", "GoPhish", "Maltego"],
                    challenges: "Analyze emails, messages, and scenarios for signs of manipulation or deception."
                }
            },
            responses: {
                greeting: "Hello! I'm your cybersecurity CTF expert assistant. I can help you with cryptography, web security, binary analysis, forensics, network security, tools, and career guidance. What would you like to learn about?",
                
                crypto: "🔐 **Cryptography Fundamentals:**\n\nCryptography is the science of securing information. Here are key concepts:\n\n• **Symmetric Encryption**: Same key for encryption/decryption (AES, DES)\n• **Asymmetric Encryption**: Public/private key pairs (RSA, ECC)\n• **Hashing**: One-way functions (SHA-256, MD5)\n• **Classical Ciphers**: ROT13, Caesar, Vigenère\n• **Encoding**: Base64, Hex, URL encoding\n\n**Popular Tools**: CyberChef, hashcat, John the Ripper\n\n**CTF Strategy**: Look for patterns, try common ciphers, use frequency analysis!",
                
                web: "🌐 **Web Security & Vulnerabilities:**\n\nWeb security focuses on protecting web applications from attacks:\n\n• **SQL Injection**: Injecting malicious SQL code\n• **XSS**: Cross-Site Scripting attacks\n• **CSRF**: Cross-Site Request Forgery\n• **File Inclusion**: LFI/RFI vulnerabilities\n• **Authentication Bypass**: Circumventing login systems\n\n**Essential Tools**:\n• Burp Suite (interception & testing)\n• OWASP ZAP (automated scanning)\n• sqlmap (SQL injection automation)\n• Dirb/Gobuster (directory enumeration)\n\n**CTF Approach**: Test all inputs, check for common vulnerabilities, use both automated and manual testing!",
                
                binary: "💾 **Binary Analysis & Reverse Engineering:**\n\nReverse engineering involves analyzing compiled programs:\n\n• **Static Analysis**: Examining code without execution\n• **Dynamic Analysis**: Running and monitoring behavior\n• **Disassembly**: Converting machine code to assembly\n• **Decompilation**: Converting to high-level language\n• **Memory Analysis**: Examining program memory\n\n**Professional Tools**:\n• Ghidra (free, powerful disassembler)\n• IDA Pro (industry standard)\n• x64dbg/GDB (debuggers)\n• Radare2/Cutter (open-source)\n\n**CTF Strategy**: Look for hardcoded strings, analyze functions, trace execution flow!",
                
                forensics: "🔍 **Digital Forensics & Investigation:**\n\nDigital forensics is the scientific analysis of digital evidence:\n\n• **Memory Forensics**: Analyzing RAM dumps\n• **Disk Forensics**: Examining storage devices\n• **Network Forensics**: Analyzing network traffic\n• **Timeline Analysis**: Creating chronological events\n• **Artifact Analysis**: System logs, registry, temp files\n\n**Essential Tools**:\n• Volatility (memory analysis)\n• Autopsy (disk forensics)\n• Wireshark (network analysis)\n• binwalk (file carving)\n• foremost/photorec (data recovery)\n\n**CTF Approach**: Look for timestamps, hidden data, deleted files, network communications!",
                
                network: "🌐 **Network Security & Analysis:**\n\nNetwork security involves protecting network infrastructure:\n\n• **Packet Analysis**: Examining network traffic\n• **Protocol Analysis**: Understanding network protocols\n• **Traffic Capture**: Capturing and storing packets\n• **Encryption**: Securing communications\n• **Wireless Security**: Securing wireless networks\n\n**Key Tools**:\n• Wireshark (packet analysis)\n• tcpdump (command-line capture)\n• nmap (network scanning)\n• netcat (network utility)\n• Metasploit (penetration testing)\n\n**CTF Strategy**: Capture traffic, analyze protocols, look for plaintext data!",
                
                tools: "🛠️ **Essential CTF Tools & Resources:**\n\n**Cryptography**:\n• CyberChef (online encoding/decoding)\n• hashcat (password cracking)\n• John the Ripper (password recovery)\n\n**Web Security**:\n• Burp Suite (web application testing)\n• OWASP ZAP (automated scanning)\n• sqlmap (SQL injection)\n\n**Binary Analysis**:\n• Ghidra (free disassembler)\n• x64dbg (Windows debugger)\n• strings (extract strings)\n\n**Forensics**:\n• Volatility (memory analysis)\n• Autopsy (disk forensics)\n• binwalk (file analysis)\n\n**Network**:\n• Wireshark (packet analysis)\n• nmap (network scanning)\n• netcat (network utility)\n\n**Learning Platforms**:\n• HackTheBox, TryHackMe, VulnHub\n• OverTheWire, PicoCTF\n• CTFtime.org (competitions)",
                
                career: "🚀 **Cybersecurity Career Path:**\n\n**Entry Level Positions**:\n• Security Analyst\n• SOC Analyst\n• Penetration Tester\n• Incident Responder\n\n**Mid-Level Roles**:\n• Security Engineer\n• Threat Hunter\n• Malware Analyst\n• Security Consultant\n\n**Advanced Positions**:\n• Security Architect\n• CISO (Chief Information Security Officer)\n• Security Researcher\n• Red Team Lead\n\n**Certifications**:\n• CompTIA Security+\n• CEH (Certified Ethical Hacker)\n• OSCP (Offensive Security)\n• CISSP (Advanced)\n\n**Skills Development**:\n• Practice on CTF platforms\n• Build home lab\n• Contribute to open source\n• Network with professionals\n• Stay updated with latest threats",
                
                resources: "📚 **Learning Resources & Platforms:**\n\n**CTF Platforms**:\n• HackTheBox (realistic environments)\n• TryHackMe (guided learning)\n• VulnHub (vulnerable VMs)\n• OverTheWire (progressive challenges)\n• PicoCTF (beginner-friendly)\n\n**Online Courses**:\n• Cybrary (free courses)\n• SANS (professional training)\n• Offensive Security (hands-on)\n• Coursera/edX (academic)\n\n**Books**:\n• \"The Web Application Hacker's Handbook\"\n• \"Practical Reverse Engineering\"\n• \"The Art of Memory Forensics\"\n• \"Network Security Essentials\"\n\n**Communities**:\n• Reddit r/netsec, r/security\n• Discord CTF servers\n• Twitter #infosec\n• Local security meetups\n\n**Practice Labs**:\n• DVWA (vulnerable web app)\n• Metasploitable (vulnerable Linux)\n• Windows VMs for malware analysis",
                
                osint: "🔎 **OSINT (Open Source Intelligence):**\n\nOSINT is about gathering information from public sources.\n\n• **Google Dorking**: Use advanced search operators to find hidden data\n• **WHOIS**: Lookup domain registration info\n• **Metadata Extraction**: Use ExifTool to find hidden info in files\n• **Social Media**: Analyze posts, usernames, and connections\n\n**Tools**: theHarvester, Maltego, Recon-ng, SpiderFoot, ExifTool\n\n**CTF Tips**: Search for usernames, emails, metadata, and use creative queries!",
                stego: "🖼️ **Steganography:**\n\nStego is about hiding data in files.\n\n• **LSB**: Data hidden in image/audio least significant bits\n• **EXIF**: Check image metadata for secrets\n• **Audio Stego**: Hidden messages in sound files\n\n**Tools**: StegSolve, zsteg, binwalk, stegseek, Audacity, exiftool\n\n**CTF Tips**: Try common passwords, check for odd file sizes, and use stego tools!",
                misc: "🧩 **Miscellaneous Challenges:**\n\nThese can be anything!\n\n• **Encoding**: Base64, Hex, Morse, Binary\n• **Logic Puzzles**: Think creatively\n• **Regex**: Pattern matching\n• **Automation**: Use scripts to save time\n\n**Tools**: CyberChef, Python, regex101\n\n**CTF Tips**: Automate, experiment, and don't be afraid to try weird ideas!",
                hardware: "🔌 **Hardware Hacking:**\n\nAnalyze and manipulate physical devices.\n\n• **UART/JTAG**: Debug ports for firmware extraction\n• **Side-Channel Attacks**: Power analysis, timing attacks\n• **PCB Analysis**: Trace connections\n\n**Tools**: Bus Pirate, Logic Analyzer, JTAGulator, OpenOCD\n\n**CTF Tips**: Look for debug headers, dump firmware, and analyze with binwalk!",
                social: "🕵️‍♂️ **Social Engineering:**\n\nManipulating people to gain information.\n\n• **Phishing**: Fake emails/websites\n• **Pretexting**: Fake scenarios\n• **Tailgating**: Physical access\n\n**Tools**: SET, GoPhish, Maltego\n\n**CTF Tips**: Analyze messages for suspicious content, check sender info, and verify requests!"
            },
            getResponse: function(query) {
                query = query.toLowerCase();
                
                // Check for specific topics
                if (query.includes('crypto') || query.includes('encryption') || query.includes('hash') || query.includes('cipher')) {
                    return this.responses.crypto;
                }
                if (query.includes('web') || query.includes('sql') || query.includes('xss') || query.includes('injection')) {
                    return this.responses.web;
                }
                if (query.includes('binary') || query.includes('reverse') || query.includes('disassembly') || query.includes('debug')) {
                    return this.responses.binary;
                }
                if (query.includes('forensic') || query.includes('memory') || query.includes('disk') || query.includes('log')) {
                    return this.responses.forensics;
                }
                if (query.includes('network') || query.includes('packet') || query.includes('traffic') || query.includes('protocol')) {
                    return this.responses.network;
                }
                if (query.includes('tool') || query.includes('software') || query.includes('program')) {
                    return this.responses.tools;
                }
                if (query.includes('career') || query.includes('job') || query.includes('certification') || query.includes('salary')) {
                    return this.responses.career;
                }
                if (query.includes('learn') || query.includes('resource') || query.includes('course') || query.includes('book')) {
                    return this.responses.resources;
                }
                if (query.includes('osint') || query.includes('open source intelligence') || query.includes('dork')) {
                    return this.responses.osint;
                }
                if (query.includes('stego') || query.includes('steganography') || query.includes('lsb') || query.includes('exif')) {
                    return this.responses.stego;
                }
                if (query.includes('misc') || query.includes('encoding') || query.includes('logic') || query.includes('regex')) {
                    return this.responses.misc;
                }
                if (query.includes('hardware') || query.includes('uart') || query.includes('jtag') || query.includes('side-channel')) {
                    return this.responses.hardware;
                }
                if (query.includes('social') || query.includes('phishing') || query.includes('pretext') || query.includes('tailgating')) {
                    return this.responses.social;
                }
                
                // Check for specific concepts
                for (let category in this.knowledge) {
                    for (let concept in this.knowledge[category].concepts) {
                        if (query.includes(concept)) {
                            return `**${concept.toUpperCase()}**:\n\n${this.knowledge[category].concepts[concept]}\n\n**Related Tools**: ${this.knowledge[category].tools.join(', ')}\n\n**CTF Tips**: ${this.knowledge[category].challenges}`;
                        }
                    }
                }
                
                // Add more practical Q&A examples
                if (query.match(/how (do|can) i (.*) (sql injection|sqli)/)) {
                    return "**SQL Injection Example:**\n\nTry this payload in a vulnerable login form:\n\n<code>' OR '1'='1' -- </code>\n\nUse <strong>sqlmap</strong> for automation: <code>sqlmap -u 'http://target/login.php' --forms --batch</code>";
                }
                if (query.match(/how (do|can) i (.*) (crack|break) (hash|password)/)) {
                    return "**Password Cracking Example:**\n\nUse <strong>hashcat</strong>: <code>hashcat -m 0 -a 0 hashes.txt wordlist.txt</code>\nOr <strong>John the Ripper</strong>: <code>john --wordlist=rockyou.txt hashes.txt</code>";
                }
                if (query.match(/how (do|can) i (.*) (find|extract) (flag|hidden data)/)) {
                    return "**Finding Hidden Data:**\n\n• Use <strong>binwalk</strong> to extract embedded files: <code>binwalk -e file.png</code>\n• Use <strong>strings</strong> to find readable text: <code>strings file.bin</code>\n• Check metadata with <strong>exiftool</strong>: <code>exiftool file.jpg</code>";
                }
                if (query.match(/how (do|can) i (.*) (analyze|capture) (network|traffic|packets)/)) {
                    return "**Network Analysis Example:**\n\n• Use <strong>Wireshark</strong> to open .pcap files\n• Use <strong>tcpdump</strong> to capture: <code>tcpdump -i eth0 -w capture.pcap</code>\n• Filter HTTP traffic: <code>http.request</code> in Wireshark";
                }
                
                // Default response
                return "I'd be happy to help! I can provide detailed information about:\n\n🔐 **Cryptography**: Encryption, hashing, ciphers, encoding\n🌐 **Web Security**: SQL injection, XSS, CSRF, authentication bypass\n💾 **Binary Analysis**: Reverse engineering, disassembly, debugging\n🔍 **Digital Forensics**: Memory analysis, disk forensics, log analysis\n🌐 **Network Security**: Packet analysis, protocol analysis, traffic capture\n🛠️ **Tools**: CTF tools, software recommendations\n🚀 **Career**: Job paths, certifications, skills development\n📚 **Resources**: Learning platforms, courses, books\n\nWhat specific topic would you like to learn about?";
            }
        };

        // Chat functions
        function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            addMessage(message, 'user');
            input.value = '';
            
            // Show typing indicator
            showTypingIndicator();
            
            // Simulate AI thinking
            setTimeout(() => {
                hideTypingIndicator();
                const response = cybersecurityAI.getResponse(message);
                addMessage(response, 'bot');
            }, 1000 + Math.random() * 2000);
        }

        function addMessage(content, sender) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = sender === 'user' ? 'user-message' : 'bot-message';
            
            const avatar = sender === 'user' ? '👤' : '🤖';
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${avatar}</div>
                <div class="message-content">
                    <strong>${sender === 'user' ? 'You' : 'CyberSec AI'}:</strong><br>
                    ${formatMessage(content)}
                </div>
            `;
            
            chatMessages.appendChild(messageDiv);
            scrollToBottom();
        }

        function formatMessage(content) {
            // Convert markdown-like formatting to HTML
            content = content.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            content = content.replace(/\*(.*?)\*/g, '<em>$1</em>');
            content = content.replace(/`(.*?)`/g, '<code style="background: rgba(0,0,0,0.3); padding: 2px 4px; border-radius: 3px;">$1</code>');
            
            // Convert line breaks to <br>
            content = content.replace(/\n/g, '<br>');
            
            // Convert bullet points
            content = content.replace(/• (.*?)(?=<br>|$)/g, '• <span style="color: #00d4ff;">$1</span>');
            
            return content;
        }

        function showTypingIndicator() {
            const chatMessages = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'bot-message';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = `
                <div class="message-avatar">🤖</div>
                <div class="message-content">
                    <div class="typing-indicator">
                        CyberSec AI is typing
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;
            chatMessages.appendChild(typingDiv);
            scrollToBottom();
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function scrollToBottom() {
            const chatContainer = document.getElementById('chatContainer');
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function quickQuestion(topic) {
            const responses = {
                crypto: "Tell me about cryptography and common CTF challenges!",
                web: "What are the most common web vulnerabilities in CTFs?",
                binary: "How do I approach binary analysis challenges?",
                forensics: "What tools and techniques are used in digital forensics?",
                network: "How do I analyze network traffic in CTF challenges?",
                tools: "What are the essential tools for CTF competitions?",
                career: "What career paths are available in cybersecurity?",
                resources: "Where can I learn more about cybersecurity and CTFs?"
            };
            
            const input = document.getElementById('userInput');
            input.value = responses[topic];
            sendMessage();
        }

        // Enter key support for chat
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && document.getElementById('aiBotModal').style.display === 'block') {
                const userInput = document.getElementById('userInput');
                if (document.activeElement === userInput) {
                    sendMessage();
                }
            }
        });

        // Initialize app when page loads
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            // DOM is already loaded
            init();
        }
    </script>
</body>
</html>